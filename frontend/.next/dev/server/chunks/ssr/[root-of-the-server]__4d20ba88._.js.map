{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/mikeyautorino/Desktop/dghack/frontend/components/layout/AppShell.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { usePathname, useSearchParams } from 'next/navigation';\n\ninterface AppShellProps {\n  children: React.ReactNode;\n}\n\nexport function AppShell({ children }: AppShellProps) {\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n  const currentSport = searchParams.get('sport');\n\n  // Determine active tab based on URL\n  const isHomePage = pathname === '/';\n  const activeTab = isHomePage\n    ? (currentSport?.toUpperCase() || 'NFL') // Default to NFL on homepage\n    : null;\n\n  return (\n    <div className=\"min-h-screen bg-bg-primary text-text-primary\">\n      {/* Navigation */}\n      <nav className=\"border-b border-border-subtle bg-bg-primary/80 backdrop-blur-sm sticky top-0 z-50\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-8\">\n            <Link href=\"/\" className=\"text-xl font-semibold tracking-tight hover:text-text-secondary transition-colors\">\n              Betting Analytics\n            </Link>\n\n            {/* Sport filter tabs - only show on homepage */}\n            {isHomePage && (\n              <div className=\"flex gap-2\">\n                <TabButton href=\"/?sport=NBA\" active={activeTab === 'NBA'}>\n                  NBA\n                </TabButton>\n                <TabButton href=\"/?sport=NFL\" active={activeTab === 'NFL'}>\n                  NFL\n                </TabButton>\n              </div>\n            )}\n          </div>\n\n          {/* Live indicator */}\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-2 h-2 bg-accent-home rounded-full animate-pulse\" />\n            <span className=\"text-sm text-text-tertiary\">\n              Live Prices\n            </span>\n          </div>\n        </div>\n      </nav>\n\n      {/* Main content */}\n      <main className=\"max-w-7xl mx-auto px-6 py-12\">\n        {children}\n      </main>\n    </div>\n  );\n}\n\nfunction TabButton({\n  href,\n  active,\n  children\n}: {\n  href: string;\n  active?: boolean;\n  children: React.ReactNode\n}) {\n  return (\n    <Link\n      href={href}\n      className={`\n        px-4 py-1.5 rounded-lg text-sm font-medium transition-colors\n        ${active\n          ? 'bg-bg-tertiary text-text-primary'\n          : 'text-text-tertiary hover:text-text-primary hover:bg-bg-secondary'\n        }\n      `}\n    >\n      {children}\n    </Link>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AASO,SAAS,SAAS,EAAE,QAAQ,EAAiB;IAClD,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,eAAe,aAAa,GAAG,CAAC;IAEtC,oCAAoC;IACpC,MAAM,aAAa,aAAa;IAChC,MAAM,YAAY,aACb,cAAc,iBAAiB,QAChC;IAEJ,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,uKAAI;oCAAC,MAAK;oCAAI,WAAU;8CAAmF;;;;;;gCAK3G,4BACC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAU,MAAK;4CAAc,QAAQ,cAAc;sDAAO;;;;;;sDAG3D,8OAAC;4CAAU,MAAK;4CAAc,QAAQ,cAAc;sDAAO;;;;;;;;;;;;;;;;;;sCAQjE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;;;;;8CACf,8OAAC;oCAAK,WAAU;8CAA6B;;;;;;;;;;;;;;;;;;;;;;;0BAQnD,8OAAC;gBAAK,WAAU;0BACb;;;;;;;;;;;;AAIT;AAEA,SAAS,UAAU,EACjB,IAAI,EACJ,MAAM,EACN,QAAQ,EAKT;IACC,qBACE,8OAAC,uKAAI;QACH,MAAM;QACN,WAAW,CAAC;;QAEV,EAAE,SACE,qCACA,mEACH;MACH,CAAC;kBAEA;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///Users/mikeyautorino/Desktop/dghack/frontend/app/game/%5Bsport%5D/%5BgameId%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { use, useEffect, useState } from 'react';\nimport { AppShell } from '@/components/layout/AppShell';\nimport { PriceHistoryChart } from '@/components/charts/PriceHistoryChart';\nimport type { GameAnalysisResponse } from '@/types';\n\nexport default function GameDetailPage({\n  params,\n}: {\n  params: Promise<{ sport: string; gameId: string }>;\n}) {\n  const { sport, gameId } = use(params);\n  const [data, setData] = useState<GameAnalysisResponse | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [k, setK] = useState(5);\n\n  useEffect(() => {\n    async function fetchAnalysis() {\n      setIsLoading(true);\n      setError(null);\n      try {\n        const response = await fetch(\n          `/api/games/${sport}/${gameId}/analysis?k=${k}`\n        );\n\n        if (!response.ok) {\n          throw new Error(`API returned ${response.status}: ${response.statusText}`);\n        }\n\n        const result = await response.json();\n        console.log('API Response:', result);\n        setData(result);\n      } catch (err) {\n        const errorMessage = err instanceof Error ? err.message : 'Failed to fetch analysis';\n        console.error('Failed to fetch analysis:', err);\n        setError(errorMessage);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    fetchAnalysis();\n  }, [sport, gameId, k]);\n\n  if (isLoading) {\n    return (\n      <AppShell>\n        <div className=\"flex items-center justify-center py-20\">\n          <div className=\"animate-spin w-8 h-8 border-2 border-accent-primary border-t-transparent rounded-full\" />\n        </div>\n      </AppShell>\n    );\n  }\n\n  if (error) {\n    return (\n      <AppShell>\n        <div className=\"text-center py-20\">\n          <div className=\"text-4xl mb-2\">⚠️</div>\n          <h3 className=\"text-lg font-medium mb-1\">Error loading game analysis</h3>\n          <p className=\"text-sm text-text-tertiary\">{error}</p>\n        </div>\n      </AppShell>\n    );\n  }\n\n  if (!data || !data.target_game) {\n    return (\n      <AppShell>\n        <div className=\"text-center py-20\">\n          <p className=\"text-text-tertiary\">Game not found</p>\n        </div>\n      </AppShell>\n    );\n  }\n\n  const { target_game, similar_games } = data;\n\n  return (\n    <AppShell>\n      <div className=\"space-y-8\">\n        {/* Target Game Header */}\n        <div className=\"bg-bg-secondary border border-border-subtle rounded-2xl p-8\">\n          <div className=\"mb-6\">\n            <span className=\"text-xs font-medium uppercase tracking-wide text-text-tertiary bg-bg-tertiary px-3 py-1.5 rounded-lg\">\n              {target_game.sport}\n            </span>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <div className=\"text-xs uppercase tracking-wide text-text-tertiary mb-2\">\n                Away\n              </div>\n              <div className=\"text-3xl font-semibold tracking-tight\">\n                {target_game.away_team}\n              </div>\n            </div>\n            <div>\n              <div className=\"text-xs uppercase tracking-wide text-text-tertiary mb-2\">\n                Home\n              </div>\n              <div className=\"text-3xl font-semibold tracking-tight\">\n                {target_game.home_team}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Similar Games Section */}\n        <div className=\"space-y-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h2 className=\"text-xl font-semibold tracking-tight\">\n                {k} Most Similar Historical Matchups\n              </h2>\n              <p className=\"text-sm text-text-tertiary mt-1\">\n                Based on cumulative team statistics using K-Nearest Neighbors\n              </p>\n            </div>\n\n            <select\n              className=\"bg-bg-secondary border border-border-default rounded-lg px-4 py-2 text-sm\"\n              value={k}\n              onChange={(e) => setK(Number(e.target.value))}\n            >\n              <option value={3}>Top 3</option>\n              <option value={5}>Top 5</option>\n              <option value={10}>Top 10</option>\n            </select>\n          </div>\n\n          {/* Similar game cards */}\n          <div className=\"space-y-6\">\n            {similar_games.map((similar, idx) => (\n              <div\n                key={similar.game_id}\n                className=\"bg-bg-secondary border border-border-subtle rounded-xl p-6\"\n              >\n                <div className=\"flex items-start gap-4 mb-4\">\n                  <div className=\"w-8 h-8 rounded-lg bg-bg-tertiary flex items-center justify-center text-sm font-semibold text-text-tertiary\">\n                    {idx + 1}\n                  </div>\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"font-medium\">\n                        {similar.away_team} @ {similar.home_team}\n                      </span>\n                      {similar.mapping === 'flipped' && (\n                        <span className=\"text-xs px-2 py-0.5 rounded bg-bg-tertiary text-text-tertiary border border-border-default\">\n                          Teams flipped\n                        </span>\n                      )}\n                    </div>\n                    <div className=\"text-sm text-text-tertiary\">{similar.date}</div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"text-xs uppercase tracking-wide text-text-tertiary mb-1\">\n                      Similarity\n                    </div>\n                    <div className=\"text-xl font-semibold tabular-nums\">\n                      {Math.round(similar.similarity)}%\n                    </div>\n                  </div>\n                </div>\n\n                {/* Price history chart placeholder */}\n                <div className=\"h-64 bg-bg-tertiary rounded-lg flex items-center justify-center text-text-tertiary\">\n                  Chart: {similar.price_history.length} price points\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </AppShell>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAOe,SAAS,eAAe,EACrC,MAAM,EAGP;IACC,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,IAAA,4MAAG,EAAC;IAC9B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAA8B;IAC9D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,GAAG,KAAK,GAAG,IAAA,iNAAQ,EAAC;IAE3B,IAAA,kNAAS,EAAC;QACR,eAAe;YACb,aAAa;YACb,SAAS;YACT,IAAI;gBACF,MAAM,WAAW,MAAM,MACrB,CAAC,WAAW,EAAE,MAAM,CAAC,EAAE,OAAO,YAAY,EAAE,GAAG;gBAGjD,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM,CAAC,aAAa,EAAE,SAAS,MAAM,CAAC,EAAE,EAAE,SAAS,UAAU,EAAE;gBAC3E;gBAEA,MAAM,SAAS,MAAM,SAAS,IAAI;gBAClC,QAAQ,GAAG,CAAC,iBAAiB;gBAC7B,QAAQ;YACV,EAAE,OAAO,KAAK;gBACZ,MAAM,eAAe,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAC1D,QAAQ,KAAK,CAAC,6BAA6B;gBAC3C,SAAS;YACX,SAAU;gBACR,aAAa;YACf;QACF;QAEA;IACF,GAAG;QAAC;QAAO;QAAQ;KAAE;IAErB,IAAI,WAAW;QACb,qBACE,8OAAC,6IAAQ;sBACP,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;;;;;;;;;;;;;;;IAIvB;IAEA,IAAI,OAAO;QACT,qBACE,8OAAC,6IAAQ;sBACP,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCAAgB;;;;;;kCAC/B,8OAAC;wBAAG,WAAU;kCAA2B;;;;;;kCACzC,8OAAC;wBAAE,WAAU;kCAA8B;;;;;;;;;;;;;;;;;IAInD;IAEA,IAAI,CAAC,QAAQ,CAAC,KAAK,WAAW,EAAE;QAC9B,qBACE,8OAAC,6IAAQ;sBACP,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAE,WAAU;8BAAqB;;;;;;;;;;;;;;;;IAI1C;IAEA,MAAM,EAAE,WAAW,EAAE,aAAa,EAAE,GAAG;IAEvC,qBACE,8OAAC,6IAAQ;kBACP,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAK,WAAU;0CACb,YAAY,KAAK;;;;;;;;;;;sCAItB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;;sDACC,8OAAC;4CAAI,WAAU;sDAA0D;;;;;;sDAGzE,8OAAC;4CAAI,WAAU;sDACZ,YAAY,SAAS;;;;;;;;;;;;8CAG1B,8OAAC;;sDACC,8OAAC;4CAAI,WAAU;sDAA0D;;;;;;sDAGzE,8OAAC;4CAAI,WAAU;sDACZ,YAAY,SAAS;;;;;;;;;;;;;;;;;;;;;;;;8BAO9B,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;;sDACC,8OAAC;4CAAG,WAAU;;gDACX;gDAAE;;;;;;;sDAEL,8OAAC;4CAAE,WAAU;sDAAkC;;;;;;;;;;;;8CAKjD,8OAAC;oCACC,WAAU;oCACV,OAAO;oCACP,UAAU,CAAC,IAAM,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;;sDAE3C,8OAAC;4CAAO,OAAO;sDAAG;;;;;;sDAClB,8OAAC;4CAAO,OAAO;sDAAG;;;;;;sDAClB,8OAAC;4CAAO,OAAO;sDAAI;;;;;;;;;;;;;;;;;;sCAKvB,8OAAC;4BAAI,WAAU;sCACZ,cAAc,GAAG,CAAC,CAAC,SAAS,oBAC3B,8OAAC;oCAEC,WAAU;;sDAEV,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;8DACZ,MAAM;;;;;;8DAET,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAK,WAAU;;wEACb,QAAQ,SAAS;wEAAC;wEAAI,QAAQ,SAAS;;;;;;;gEAEzC,QAAQ,OAAO,KAAK,2BACnB,8OAAC;oEAAK,WAAU;8EAA6F;;;;;;;;;;;;sEAKjH,8OAAC;4DAAI,WAAU;sEAA8B,QAAQ,IAAI;;;;;;;;;;;;8DAE3D,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAI,WAAU;sEAA0D;;;;;;sEAGzE,8OAAC;4DAAI,WAAU;;gEACZ,KAAK,KAAK,CAAC,QAAQ,UAAU;gEAAE;;;;;;;;;;;;;;;;;;;sDAMtC,8OAAC;4CAAI,WAAU;;gDAAqF;gDAC1F,QAAQ,aAAa,CAAC,MAAM;gDAAC;;;;;;;;mCAhClC,QAAQ,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCpC","debugId":null}}]
}